<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LingoChain AI</title>
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        
        <!-- ========== LEFT SIDEBAR ========== -->
        <aside class="left-sidebar">
            <!-- Logo -->
            <div class="logo-section">
                <div class="logo-icon">
                    <i class="bi bi-stars"></i>
                </div>
                <span class="logo-text">LingoChain</span>
            </div>

            <!-- Navigation Menu -->
            <nav class="nav-menu">
                <a href="#" class="nav-item">
                    <i class="bi bi-grid"></i>
                    <span>Overview</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="bi bi-layers"></i>
                    <span>Categories</span>
                </a>
                <a href="#" class="nav-item active">
                    <i class="bi bi-calendar-check"></i>
                    <span>AI Mentor</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="bi bi-pencil"></i>
                    <span>Create & Earn</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="bi bi-gear"></i>
                    <span>Settings</span>
                </a>
            </nav>

            <!-- Premium Card -->
            <div class="premium-card">
                <div class="lock-icon">
                    <i class="bi bi-lock-fill"></i>
                </div>
                <h3>Unlock Premium</h3>
                <p>Resources & Features</p>
                <button class="upgrade-btn">Upgrade</button>
            </div>
        </aside>

        <!-- ========== CHAT LIST SIDEBAR ========== -->
        <aside class="chat-sidebar">
            <!-- Chat Header -->
            <div class="chat-sidebar-header">
                <div class="header-top">
                    <h2>My Chats</h2>
                    <button class="options-btn">
                        <i class="bi bi-three-dots"></i>
                    </button>
                </div>
                
                <!-- Tabs -->
                <div class="chat-tabs">
                    <button class="tab-btn active">
                        <i class="bi bi-chat-fill"></i>
                        CHATS
                        <span class="badge" id="chatCountBadge">0</span>
                    </button>
                    <button class="tab-btn">
                        <i class="bi bi-bookmark-fill"></i>
                        SAVED
                        <span class="badge">0</span>
                    </button>
                </div>

                <!-- Search -->
                <div class="search-box">
                    <i class="bi bi-search"></i>
                    <input type="text" placeholder="Search.." id="chatSearch">
                    <button class="filter-btn">
                        <i class="bi bi-funnel"></i>
                    </button>
                </div>
            </div>

            <!-- Chat List -->
            <div class="chat-list" id="chatList">
                <div class="no-chats-message">
                    <p>No chats yet</p>
                    <small>Start a conversation</small>
                </div>
            </div>

            <!-- New Chat Button at Bottom -->
            <div class="sidebar-footer">
                <button class="new-chat-btn-sidebar" onclick="createNewChat()">
                    <i class="bi bi-plus-lg"></i>
                    <span>New Chat</span>
                </button>
            </div>
        </aside>

        <!-- ========== MAIN CONTENT ========== -->
        <main class="main-area">
            <!-- Top Bar with XP -->
            <header class="main-header">
                <div class="search-header">
                    <i class="bi bi-search"></i>
                    <input type="text" placeholder="Search..">
                    <button class="search-icon-btn">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
                
                <div class="user-stats">
                    <!-- Clear ALL Chats Button -->
                    <button class="clear-chat-btn" onclick="clearCurrentChat()" title="Clear all chats">
                        <i class="bi bi-trash3-fill"></i>
                        <span class="clear-btn-text">Clear All</span>
                    </button>

                    <div class="xp-badge">
                        <div class="xp-icon">
                            <i class="bi bi-trophy-fill"></i>
                        </div>
                        <span class="xp-text">13/20 XP</span>
                        <div class="xp-progress">
                            <div class="xp-fill" style="width: 65%"></div>
                        </div>
                    </div>
                    <button class="notification-btn">
                        <i class="bi bi-bell"></i>
                    </button>
                    <button class="profile-btn">
                        <i class="bi bi-person-circle"></i>
                    </button>
                </div>
            </header>

            <!-- Messages Area -->
            <div class="messages-area" id="messagesArea">
                <!-- Empty State (shown when no messages) -->
                <div class="empty-state-main" id="emptyState">
                    <h2>Welcome to LingoChain AI</h2>
                    <p style=" padding-left: 1rem; padding-right: 1rem;">Start a conversation by typing your message below</p>
                    <div class="suggestion-chips-main">
                        <button class="chip-main" onclick="setInputValue('What can you help me with?')">
                            What can you help me with?
                        </button>
                        <button class="chip-main" onclick="setInputValue('Explain quantum computing')">
                            Explain quantum computing
                        </button>
                        <button class="chip-main" onclick="setInputValue('Write a poem about AI')">
                            Write a poem about AI
                        </button>
                    </div>
                </div>

                <!-- Messages List -->
                <div id="messagesList" style="display: none;">
                    <!-- Date Separator -->
                    <div class="date-separator">Today</div>
                    <!-- Messages will be dynamically inserted -->
                </div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <!-- Loading Indicator -->
                <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <small>AI is typing...</small>
                </div>

                <!-- Error Message -->
                <div id="errorMessage" class="error-message" style="display: none;">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    <span id="errorText"></span>
                </div>

                <div class="input-wrapper">
                    <button class="input-icon-btn">
                        <i class="bi bi-image"></i>
                    </button>
                    <input 
                        type="text" 
                        placeholder="Ask questions, or type '/' for commands"
                        id="messageInput"
                        onkeypress="handleKeyPress(event)"
                    >
                    <button class="send-btn" id="sendBtn" onclick="sendMessage()">
                        <i class="bi bi-send-fill"></i>
                    </button>
                    <button class="voice-btn">
                        <i class="bi bi-mic-fill"></i>
                    </button>
                </div>
            </div>
        </main>
    </div>
    <!-- Mobile Menu Toggle Button -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" onclick="toggleMobileSidebar()">
        <i class="bi bi-list"></i>
    </button>

    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebars()"></div>
    <!-- Custom Script -->
    <script src="script.js"></script>
</body>
</html>